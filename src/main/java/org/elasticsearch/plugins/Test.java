package org.elasticsearch.plugins;

import java.util.Arrays;
import java.util.List;

/**
 * @Author luorenshu(626115221 @ qq.com)
 * @date 2018/11/7 下午4:10
 **/
public class Test {

    public static void main(String[] args){
        dot();
    }

    public static void dot(){
        List<Double> queryVector = Arrays.asList(-0.1680123,0.42777792,-0.54183257,-1.0994376,0.6556571,-0.0018636943,-1.0744789,0.41632596,-0.23417674,1.9584682,-1.5444796,1.544325,-1.5824469,-0.30002376,-0.5353838,0.4692529,1.467431,-0.8241018,1.9820024,0.047604598,-0.11557238,0.9990968,4.0132465,-1.6058296,-1.371915,-1.2821453,-0.39435562,0.9424275,-2.5364118,-1.2020186,1.008291,-0.8136849,-0.96642786,-1.9334832,0.32555568,1.3299165,-0.87891674,-2.2822263,1.2642306,-0.35150537,-0.49252254,-0.3026274,2.1393242,-1.2751311,-2.615534,-0.12758689,-0.19927573,-0.08854267,-2.8167973,-1.6933931,0.24330111,0.94100094,0.6860512,-1.2687938,0.3505918,-0.34805852,-0.37819585,-1.7658783,0.83952284,-1.1785511,-0.36923134,1.3003792,-0.24159485,0.9563662,0.9105991,0.05932647,-0.6344595,0.22283123,-0.46881455,0.48527056,-1.4402457,1.9152929,0.42804942,1.1523075,-0.31723094,1.0511174,-0.76465964,-0.81007004,-0.32042187,2.0274181,0.05508807,-2.4481564,1.155432,0.64732814,-2.3849394,-0.43718043,-0.55572724,-0.6128599,2.1205635,-1.2691878,-2.2128785,-2.0210285,1.9839883,-0.746638,-2.2331133,-1.3528962,0.93315846,-2.2847035,0.14599864,0.2861499,1.6796733,-1.7211481,2.5468705,1.3994144,1.2133979,1.738668,-2.3796923,2.9458075,-1.1227257,2.3846316,1.2177832,-0.8344502,-1.1143676,-3.3717654,0.8640074,-1.9274019,-0.46489584,-0.517624,1.2317775,-0.6241009,-0.8314887,0.6093744,0.6161032,-0.5800576,-0.4812387,-0.7150735,-0.7077612,-2.1096075,0.9846982,-1.4163079,0.6786112,0.2880318,-0.48633572,2.4130027,0.3852519,0.30630073,0.42751643,-1.2657869,1.9297134,-1.5598826,-3.2661517,3.252182,-0.4741487,3.5429347,-0.7789587,0.7306475,-0.56027013,1.9199792,1.087995,-0.6835382);
        List<Double> vector = Arrays.asList(-1.3761702,0.651727,0.7027995,0.62881905,-0.38223982,-0.43866932,-0.013962087,-0.9143782,-0.03567678,-0.0456213,-0.61443037,-0.068829656,0.12391665,-0.5095221,-0.3959142,-0.07288656,-1.2053592,0.15210992,0.42289126,-0.2926556,0.3943472,0.030718392,0.66892904,0.13368906,-1.4126232,-0.3805339,-0.79880905,0.4769903,-0.45603994,-1.0890216,1.2680606,-0.1714715,0.61314523,-0.88577765,-0.032395992,0.4834796,-0.8020513,-0.688435,-0.8367025,-0.50534433,0.6925073,1.1022178,-1.0772227,-1.0377768,-0.29859015,0.6065209,-0.551465,-0.29254755,-0.23075022,-1.1910931,-0.10214393,0.51897603,0.31795293,0.06252988,-0.19078194,1.0131234,0.04675915,0.0057909815,-0.009789065,-0.36513928,1.2098111,0.569955,0.5292803,-0.73862535,-0.62184453,0.25535452,-0.9858086,0.17447186,-0.4673726,-0.49351227,-0.15870339,1.4382977,0.9325747,-0.5948685,-0.29605862,-0.1895287,0.54080164,-0.2815703,0.3397479,-0.8553966,-1.0638942,0.33049014,0.49252957,1.147727,-0.19084106,0.119961746,0.10214152,0.039934613,1.1518133,-1.233895,-0.4827673,-1.2442454,0.949877,0.9473288,0.6355033,-1.2567122,0.013545646,-0.7292959,0.48403922,-0.20273428,1.1931899,-0.5612139,0.9242342,-0.22149138,-0.27388403,-0.088988654,-0.201216,0.034331504,0.992609,1.1105376,-0.36747712,0.24174747,-1.1699945,-0.770826,-0.82694113,0.11825163,0.2682974,-0.7745542,0.7811757,-1.420848,1.1270337,-0.29145977,-0.34610403,-0.8416147,0.2518982,-0.21592654,0.21174765,-0.071954295,-1.1075383,0.05021516,0.6786379,-0.3479059,1.4254787,1.7413341,-0.040865984,0.5140221,-1.2435712,0.07166023,0.3077552,-0.4333731,-1.350582,1.0307978,-0.80620176,-0.9116598,-0.8918523,0.21925393,0.82903826,0.81644064,0.6512485,-0.2024714);

        int size = Math.min(queryVector.size(), vector.size());

        double sum1 = 0, sum2 = 0, queryValue=0, fieldValue=0, dot=0, score=0;
        for (int i = 0; i < size; i++) {
            queryValue = queryVector.get(i);
            fieldValue = vector.get(i);
            dot += queryValue * fieldValue;
            sum1 += queryValue * queryValue;
            sum2 += fieldValue * fieldValue;
        }

        double denominator = (Math.sqrt(sum1) * Math.sqrt(sum2));
        if (denominator == 0){
            score = 0;
        }else{
            score = dot / denominator;
        }

        System.out.println(vector);
        System.out.println(queryValue);
        System.out.println("sum1 :" + sum1);
        System.out.println("sum2 :" + sum2);
        System.out.println("dot : " + dot);
        System.out.println("denominator :" + denominator);
        System.out.println("score :" + score);
    }
}
